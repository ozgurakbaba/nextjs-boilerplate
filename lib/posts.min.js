import fs from"fs";import path from"path";import matter from"gray-matter";import remark from"remark";import html from"remark-html";const postsDir=path.join(process.cwd(),"/pages/blog");export function getAllPosts(){const fileNames=fs.readdirSync(postsDir),allPosts=fileNames.map(fileName=>{const id=fileName.replace(/\.md$/,""),fullPath=path.join(postsDir,fileName),fileContents=fs.readFileSync(fullPath,"utf8"),resMatter=matter(fileContents);return{id:id,...resMatter.data}});return allPosts.sort((a,b)=>a.date<b.date?1:-1)}export function getAllPostIds(){const fileNames=fs.readdirSync(postsDir);return fileNames.map(fileName=>({params:{id:fileName.replace(/\.md$/,"")}}))}export async function getPostData(id){const fullPath=path.join(postsDir,`${id}.md`),fileContents=fs.readFileSync(fullPath,"utf8"),resMatter=matter(fileContents),processedContent=await remark().use(html).process(resMatter.content),htmlContent=processedContent.toString();return{id:id,htmlContent:htmlContent,...resMatter.data}}